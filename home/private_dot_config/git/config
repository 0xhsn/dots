[user]
	name = {{ .name | quote }}
	email = {{ .email | quote }}
	signingkey = {{ .signingkey | quote }}

[commit]
	gpgsign = true

[gpg]
	format = ssh

[gpg "ssh"]
{{ if eq .chezmoi.os "darwin" -}}
	program = /Applications/1Password.app/Contents/MacOS/op-ssh-sign
{{ else -}}
	program = /opt/1Password/op-ssh-sign
{{ end -}}
	allowedSignersFile = ~/.config/git/allowed_signers

[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true

[alias]
	st = status
	co = checkout
	ci = commit
	last = log -1 HEAD
	unstage = reset HEAD --

[credential "https://github.com"]
	helper =
	helper = !/usr/bin/env gh auth git-credential

[credential "https://gist.github.com"]
	helper =
	helper = !/usr/bin/env gh auth git-credential
